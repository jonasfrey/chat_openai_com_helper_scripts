let s_cookie = "intercom-device-id-dgkjq2bp=5157801d-5e39-422e-a444-d9a61a07b3fe; cf_clearance=9E31EHTmXEOe.ev8UGpXI_SgZQ9Qu32XH.zQynYHaDI-1709161754-1.0-AUcrNA/U8gxJ0dTgt53yE15dDsDU80D5fFevTPag2T1k0V5YaukJKFXH5hMnMieMbSOYGautUsGVOe1H1nFNE1U=; oai-did=1986e641-64c5-4389-ae53-fe9fa10e3eaa; ajs_user_id=e407bf1f-a91a-4567-a0e5-8cf899ae47ee; ajs_anonymous_id=3c69c0a6-9509-4461-b159-9ee89262a6d1; oai-allow-ne=true; __Host-next-auth.csrf-token=baee97993840eeb6f0c33cba06510bd83dd955ad6e6eb6df25dc5ec7cd4cf220%7C394312ef484b25919859dfb6722d9aed40a007acca7311243df3fddae10e0e8c; __cf_bm=suQdL58.YKjKyzGU1RgzLVedRecJwUpVS_Bo1XEcgNI-1709977195-1.0.1.1-5zGAODsaQpGw7wuHzvfiUGpdPmi0tNKrIEVmn91Rm.6e1r14N5LbOZeHWGNp6xP8WV1zdLyVyWMhsoWXBwfokA; __cflb=0H28vVfF4aAyg2hkHFTZ1MVfKmWgNcKF4WfVjSyBPfj; _cfuvid=jfb2H0PS9pHvrGFrB2uGqoCTRc66nyCT8fGIz5WiXfk-1709977195784-0.0.1.1-604800000; __Secure-next-auth.callback-url=https%3A%2F%2Fchat.openai.com; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Yryf4lo99KYc-BN1.EVbUkOagl3BcM9cupEWwU4-1o2W7ku00CsDgR970DWSORaFHxeSqw5wL6oziPRGjh4hhq1l4VQgubtWmfk0tmlLEREQKSgTJb4Z4mlkSZ61i0qMhZGpFL42NsPpLqc9gZ7kJGYlGUK7K-t53S3pZcKmVwqViKPUkYMXpmeOkNkPFtCHs5tfH24noJmbarB8dYi5RmIw-QHdHZ-BU0I9Nn2f1705hVS-c4S-f4ewRMA9NPo4AoDMN9ApeaRdIen_B_y89vnDk5n7_31MudPc1vXFrqVY-j6wT5FALzzBrp9cgvLlO4zbna-HqrPej5R1RdxqwrpfhiGpfq9uQiHmkIRoaJUdbpuD6fplPNFLfaXWDEZJYjoaVTxq03iVXHrJX-OsANfZnIl1zmyWDzzZrmBYiP50onqfYvHVojmS35DgcJeNdMgvmSiDQ0G727AGFL20lWn2-pqwUvhm1bH5hYeBoI7LfT2pXpvflU_GZYukII14LdqEsvrt2tN025Z2yukLIU2oVhcGKHJ3N_8CDIe5XOG_L6nsD0Ag8yZB1tkMCZyu0Zj_Y479xogwwcCxcsQ63qDkIoJP8zMGk16AKOODk7XT16ScS85VUviuVMvpX074fNLMCCrVh5gYeWvdhRka6VhpCvhI8Bxp0nSnVH5kBlCel8hlbMVFLBLPDCItc-sIzv5DJHzV8GdcLxsi9KeN2YVInr48zVOFGtXHXQWCFw9u-bYJ0CrGUpelwrWw3L29hdnbXkfh4fzAE6CJmug8EgAqQwgZ9LALcNao9sksZAVr952UBJ5WQhoN3WkHiN2x3qirR852LiThAXC1n5yvxtj7m9DXapx3Px9m7MS8DI9PiBeJoq5ujm2Cy25UQ2uLgglgeNHln9HyfkCzPU7H1o03j0HdXkUm2B47NKOVBgw1IzlBljvG_AezIjB4_DTYUlNmfeq05pyLCYXt7w5Elbe7BJAYCA-Go5JHVoIaGy3-OPQaKKP80wjhWK0wIEeHH8LrxLkI7Qe5oAQ04sMF8wbvoATCEbDvUFTsog5hDuhN5-KozlxCxLUdZVRdlMiA3MHf9UngkxUE4dCHK6JMo9yF01VNvbAFTk6H10Lf8TCykF5xvbCrmiRJqjvGaNHnk3AljIlfRDu6_4H1MmQtSXIlcryBwbVwK893tCYKip80SOS_mE38GFOTqDRkzhqIEZFlKfYqGWKgdxf0F32Fh1rsPZH_JmkSM_MhxhPQ6-R59g2H0yfUJbbufUPJbYR6ynR_AEQ-p0kA7CftpOMvdW1MV8KfSGAJevofNJEDns6ocowubQvZOgEBMplfgEVB32gWnAKwHBjtIerPv2tZVe8---ukkoBU1H6dWBC6O-Xkpy3TBEWBlhnSe42e9fR2u6iBeSiVcIuSE1NzB5A17gr9mRPKZ0AiRaBiearv28ht7RwkPi1_WmfVz_05OJ3ttUYoEj-r8DAdmPIJ-HF-dMsmCy4WBD_35lV1DODHnivqMjcDE3oO_70dfUZuYy3AO08p-w9j0CloVuwnW_cE2fZCKByK719rDz-mpZ8fHltH3N6c3kl9l2l9fZ9qOtIlFTPQhVzxFV_gC_FPwXLCKlOf0fkqNnpQRj_73YNjhu6S3yfZiQRNhphkZu0d8MHq8TxOTudkWbo1ojQdsqMEiRNrPlMpA87lyr0HXqLFxDerWIS-ilpBvRyYyRNa9jVQfxr_9eEvp4WnCM1KSc91AylLgY9NEg8BExo_conv9X8o1aG1mm1TVstTsR0-kL2Lg8c_ZHwF5O6LINpkvN4-rwcxGkcRmRb0plMZCqD5YMcNDDGMGfbJRnKrAqwqElXV2I_1yKNArfjbkb62eT6VXB4W3y_pH-DB8goOH8Fa5artAEURJi4nh8RBIJBayEuhrKHXtYovyF28lsEvpmoA8TX4Yd8y3JNlhcp1kLHq--HFl5ufRcQQZ6aD55j5aoPXVeOOL4MR2JXPJDhnYG1hU-fzCWgiI9NtlJEM8mK2Pg5SZSAA2onbHramdPL6aV5MHHe3BHnOyKkT-5sFEWp1tIEtQHhmJPnpbtEoAg8nHF2XNPzWM_Q2t26JyfHGyLkBJoO1Wqs16kSFwcVqujs9X9xnWZqLBfk_dyx6xqgA0n70L1YXtb5Zs1dqDFqvG8yuj2gSu7f_FAARbTe7bGZvM5c1HkurzM3pTMfCcQSv3-lp2Y771Jbgk2QHxSrVdHm6RcZ5PlVDqsQoXIGhE86WP6YMyqszRZCU3T3d1ulDfjXn5OKQrrJcm0QHZnFJ8CrmvK4ouxiuSReG8w-3o5QgD-hkui6cvFgfaoppQrdbTO8rGHs-wNejV2o4YBE3rLUrTLjJHvrED7eIaK9xpjtfhb4ZxSJ7MnXYS7feS8wkUBb1FuHi5HsK9TiQmw6b2snpxMLrDs7barZQGVW-zyKCtY1lVUyMNl-ZB1CUVc3nIyoqEzKM2_oIIGxESGB5gHm8W_MnHJ8Rsq76eEn9-_rHONzEI2_8Fr6bHvC101UAmIKcao8xKtH4eyk1Q9BbYfRHVcJfuFSC1aBEvOOpqWvUMLQizM5HJQWIXdLooEsAedrPGP1081mdf_jLZHvMV7mZImk3CRhhGk2Be8Ox-VHufllzqn1rJr1eEDTBsrXgEY14nGr4GpoMbf0lXLX9-WItMhEPf4oALDHm-9QVWwS1Kqh6ngoJkf3lh_cl8i1CQrJ4YGBZ0gxRLc1c--_Pqsso3N0prbIS6g9iU9KUrvuZbHsNn8E3gG1UHvQQuZJ2kyJfyRbDW1WeaCYE3fEkLqZJHSbOsW9e0Kt_XrdUfqDcdhjCXeUGF41BfyIKUC-J7slUsn6Y5wvoErPd5.6E8c3OMvoLPvJTdeuVBPgQ; cf_clearance=WoMdMcTfwl7mxGC2u9_kn1vy6Rj9CEVC0q4PyeoZHH4-1709977197-1.0.1.1-NS0D5vu4y.fd3wjwe24i_1WmPKwpVvat5tDcmWkd7fBohEx5cxqIaJSZwcMdhbKfx3f64JV9AOpp2T5sdxe.hw; _puid=user-WZiKMqJJCVV192AQCArNScWh:1709977197-58Cyjr0tC8ZI8aF9aLV0ncE8jR06sqtVbzB9%2FzvoHCY%3D; intercom-session-dgkjq2bp=Vmg4V1g2T1JwL3Jsa3dVaER6djRTODZwU05DU3QrQUNKQzFWd0xLR0k2d0wrbFZnd3ZMVXdZSFA4RDF4UjBJUy0tYmpBYjZOY3ZRUGpPRnRLMWttOXV4dz09--c9d26ac2ad0c89aabe20cb817e8a5255ec2a53e4; _dd_s=rum=0&expire=1709978136860"
let o_response = await fetch("https://chat.openai.com/backend-api/conversation", {
  "headers": {
    "accept": "text/event-stream",
    "accept-language": "en-US,en;q=0.9",
    "authorization": "Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Ik1UaEVOVUpHTkVNMVFURTRNMEZCTWpkQ05UZzVNRFUxUlRVd1FVSkRNRU13UmtGRVFrRXpSZyJ9.eyJodHRwczovL2FwaS5vcGVuYWkuY29tL3Byb2ZpbGUiOnsiZW1haWwiOiJqb25hcy5pbW1hbnVlbC5mcmV5QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlfSwiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS9hdXRoIjp7InBvaWQiOiJvcmctM0RmeXFzbDRTS0hrUVhHUkZ3T0N4OEJJIiwidXNlcl9pZCI6InVzZXItV1ppS01xSkpDVlYxOTJBUUNBck5TY1doIn0sImlzcyI6Imh0dHBzOi8vYXV0aDAub3BlbmFpLmNvbS8iLCJzdWIiOiJnb29nbGUtb2F1dGgyfDExMzI2MTQ5NjM2MzkwNzczMzU3NiIsImF1ZCI6WyJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxIiwiaHR0cHM6Ly9vcGVuYWkub3BlbmFpLmF1dGgwYXBwLmNvbS91c2VyaW5mbyJdLCJpYXQiOjE3MDk4NDkwODcsImV4cCI6MTcxMDcxMzA4NywiYXpwIjoiVGRKSWNiZTE2V29USHROOTVueXl3aDVFNHlPbzZJdEciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIG1vZGVsLnJlYWQgbW9kZWwucmVxdWVzdCBvcmdhbml6YXRpb24ucmVhZCBvcmdhbml6YXRpb24ud3JpdGUgb2ZmbGluZV9hY2Nlc3MifQ.e8OCJUCLWG2gqztkROaiumbQ9XsXaOt8Vb6-_Qq3y_MHQni4qSVCHYf38YsP_KFyaKjxIy7zmEToiycrQqIF0IN-cqoVJPN79Y2ll1j2JN9lgqk99cfNdpN79-CVeVALKoAreeEflcqu3SAvwHuWx7CD3bX4Cxn86oOdrBoQwcvf3zImPQnLlms9WLbMcL4BRH_W76qfeEqy4ioBdbTkT7rlUgygSEIQIH1CDZYEb-GjtcuYoMI1vRm3R202uNDjqIFWAgQxktrj3ZxQwc7hURwvosjfV-fPwVwKAbiFAHlz72bGkp5ZWK66sJ7BfFMBA1CWf4kyXb3gVSoQ6KWiOQ",
    "cache-control": "no-cache",
    "content-type": "application/json",
    "oai-device-id": "1986e641-64c5-4389-ae53-fe9fa10e3eaa",
    "oai-language": "en-US",
    "openai-sentinel-arkose-token": "14517bb0f3835f353.2154488705|r=eu-west-1|meta=3|metabgclr=transparent|metaiconclr=%23757575|guitextcolor=%23000000|pk=35536E1E-65B4-4D96-9D97-6ADB7EFF8147|at=40|sup=1|rid=52|ag=101|cdn_url=https%3A%2F%2Ftcr9i.chat.openai.com%2Fcdn%2Ffc|lurl=https%3A%2F%2Faudio-eu-west-1.arkoselabs.com|surl=https%3A%2F%2Ftcr9i.chat.openai.com|smurl=https%3A%2F%2Ftcr9i.chat.openai.com%2Fcdn%2Ffc%2Fassets%2Fstyle-manager",
    "openai-sentinel-chat-requirements-token": "gAAAAABl7C5tITUH24VgrOZz_lXS-ELEGEFIeG_82JtVeaZfylYMiyP2LZ0sZZe59Uxal25gp7hGuAf3-E9WFG6Vr4So8FAgmvJ-rsyMv7Zy4qGcnKgulXl_6m460T2jUP70m5U7-roucAQaidbp2KIH3wZQ7Kmdx85gsY6a3bR1hpmaXym4mxmVoQMWIcBYEjpUMvaONfqjkftvytMrnAPEObHVQSHYlg==",
    "pragma": "no-cache",
    "sec-ch-ua": "\"Google Chrome\";v=\"117\", \"Not;A=Brand\";v=\"8\", \"Chromium\";v=\"117\"",
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": "\"Linux\"",
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "same-origin"
  },
  "referrer": "https://chat.openai.com/?model=text-davinci-002-render-sha",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": JSON.stringify({
    "action": "next",
    "messages": [
        {
            "id": `${crypto.randomUUID()}`,
            "author": {
                "role": "user"
            },
            "content": {
                "content_type": "text",
                "parts": [
                    "generate another descriptive textprompt which describes an image "
                ]
            },
            "metadata": {}
        }
    ],
    "parent_message_id": "aaa16b59-cd60-4e2f-93b4-c4956dba95c3",
    "model": "text-davinci-002-render-sha",
    "timezone_offset_min": -60,
    "suggestions": [
        "Write a brief email to my parents, expressing my deep love for them and gratitude for the moments we've shared"
    ],
    "history_and_training_disabled": false,
    "conversation_mode": {
        "kind": "primary_assistant"
    },
    "force_paragen": false,
    "force_rate_limit": false,
    "websocket_request_id": "9e973fae-35d5-49d5-9bd6-467f2edabe60"
}),
  "method": "POST",
  "mode": "cors",
  "credentials": "include"
});

// let oo = await o.json();
const reader = o_response.body.getReader();
const { value, done } = await reader.read();

let s = ''
if (done) {
  console.log("The stream was already closed!");
} else {
    let s2 = new TextDecoder().decode(value)
    s+=s2
    console.log(s2)
    // console.log(value);
}
let o_resp_data = JSON.parse(s.substring('data: '.length));
console.log(s)
console.log(o_resp_data)

